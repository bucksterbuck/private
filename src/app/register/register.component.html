<app-header></app-header>
<br><br>
<div class="row justify-content-center">
  <div class="col-6 justify-content-center">

    <mat-card class="example-card">
      <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <mat-card-title><h1>Registration</h1></mat-card-title>
        <mat-card-subtitle>Register here</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <!--<mat-form-field><input mat placeholder="First Name"> </mat-form-field>-->
        <form #registerForm="ngForm" (ngSubmit)="register(firstName, lastName, password1, password2, company, email,
                                                          address, address2, city, state, zip)">
          <div class="form-row">
            <div class="form-group col">
              <label for="firstName">First Name</label>
              <input required ngModel (change)="log(firstName)"  #firstName="ngModel"  name="firstName"
                     class="form-control" type="text" id="firstName" placeholder="First Name">
              <div *ngIf="firstName.touched && firstName.errors" class="alert alert-danger error">
              <div *ngIf="!(firstName.valid)">You must include your First Name!</div>
              </div>
            </div>
            <div class="form-group col">
              <label for="last">Last Name</label>
              <input required ngModel #lastName="ngModel" name="lastName" class="form-control" type="text" id="last" placeholder="Last Name">
              <div *ngIf="lastName.touched && lastName.errors" class="alert alert-danger error">
                <div *ngIf="!(lastName.valid)">You must include your Last Name!</div>
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group col">
              <label for="password1">Password</label>
              <input required ngModel #password1="ngModel"  name="password1"
                     class="form-control" type="password" id="password1" placeholder="Password">
              <div *ngIf="password1.touched && password1.errors" class="alert alert-danger error">
                <div *ngIf="!(password1.valid)">You must provide a password!</div>
              </div>
            </div>
            <div class="form-group col">
              <label for="password2">Confirm Password</label>
              <input required ngModel #password2="ngModel" name="password2" class="form-control" type="text"
                     id="password2" placeholder="Confirm Password">
              <div *ngIf="password2.touched && password2.errors" class="alert alert-danger error">
                <div *ngIf="!(password2.valid)">You must confirm your password!</div>
              </div>
            </div>
          </div>
          <div class="form-group" *ngIf="(password1.value !== password2.value)">
            <div class="alert alert-danger error">Passwords Do Not Match!</div>
          </div>
          <div class="form-group">
            <label for="company">Company Name</label>
            <input required ngModel #company="ngModel" name="company" class="form-control" type="text" id="company"
                   placeholder="Company Name">
          </div>
          <div *ngIf="company.touched && company.errors" class="alert alert-danger error">
            <div *ngIf="!(company.valid)">You must include your Company Name!</div>
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input required email name="emails" ngModel #email="ngModel"  class="form-control"
                   type="email" id="email" placeholder="Email">
            <div *ngIf="email.touched && email.errors" class="alert alert-danger error">
              <div *ngIf="!(email.valid)">{{email.value}} is not a valid email address.</div>
            </div>
          </div>
          <div class="form-group">
            <label for="address">Address</label>
            <input required name="address" ngModel #address="ngModel" class="form-control" type="text" id="address"
                   placeholder="Address">
          </div>
          <div *ngIf="address.touched && address.errors" class="alert alert-danger error">
            <div *ngIf="!(address.valid)">Address is required.</div>
          </div>
          <div class="form-group">
            <label for="address2">Address Line Two</label>
            <input class="form-control" ngModel #address2="ngModel" name="address2" type="text" id="address2"
                   placeholder="Address Line Two">
          </div>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="city">City</label>
              <input required name="city" ngModel #city="ngModel" type="text" class="form-control" id="city">
            </div>
            <div *ngIf="city.touched && city.errors" class="alert alert-danger error">
              <div *ngIf="!(city.valid)">City is required.</div>
            </div>
            <div class="form-group col-md-4">
              <label for="state">State</label>
              <select required ngModel name="state" #state="ngModel" id="state" class="form-control">
                <option *ngFor="let state of states">{{ state.name }}</option>
              </select>
            </div>
            <div class="form-group col-md-2">
              <label for="zip">Zip</label>
              <input required pattern="^[0-9]{5}(?:-[0-9]{4})?$" name="zip" minlength="5" maxlength="5" ngModel
                     #zip="ngModel" type="text"
                     class="form-control" id="zip">
            </div>
            <div *ngIf="zip.touched && zip.errors" class="alert alert-danger error">
              <div *ngIf="!(zip.valid)">A valid ZIP Code is required.</div>
            </div>
          </div>
          <button *ngIf="!(registerForm.valid) && (password1.value != password2.value)" mat-button color="primary" disabled>Submit</button>
          <button *ngIf="registerForm.valid && (password1.value == password2.value)" mat-button color="primary" type="submit">Submit</button>
          <button mat-button color="warn" type="reset">Reset</button>
        </form>
      </mat-card-content>
      <mat-card-actions>

      </mat-card-actions>
    </mat-card>
  </div>
</div>

